# 共享内存

消息队列的读取和写入的过程，都会有发生**用户态与内核态之间的消息拷贝**过程。那**共享内存**的方式，就很好的解决了这一问题。  

现代操作系统，对于内存管理，采用的是虚拟内存技术，也就是每个进程都有自己独立的虚拟内存空间，不同进程的虚拟内存映射到不同的物理内存中。所以，即使进程 A 和 进程 B 的虚拟地址是一样的，其实访问的是不同的物理内存地址，对于数据的增删查改互不影响。  

**共享内存的机制，就是拿出一块虚拟地址空间来，映射到相同的物理内存中。**这样这个进程写入的东西，另外一个进程马上就能看到了，都不需要拷贝来拷贝去，传来传去，大大提高了进程间通信的速度。  

<div align=center><img src="https://raw.githubusercontent.com/duiying/img/master/共享内存.png" width="600"></div>  

